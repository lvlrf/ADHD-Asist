
{% extends "base.html" %}

{% block content %}
<header class="flex justify-between items-center mb-8">
    <div>
        <h2 class="text-3xl font-bold text-white mb-1">Ø³Ù„Ø§Ù… {{ user_name }}! ğŸ‘‹</h2>
        <p class="text-slate-400 text-sm">Ø§Ù…Ø±ÙˆØ²ØŒ {{ stats.pending }} Ú©Ø§Ø± Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø¯Ø§Ø±ÛŒ.</p>
    </div>
    <div class="flex items-center gap-2">
        <span class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></span>
        <span class="text-xs text-slate-400">Ø³ÛŒØ³ØªÙ… Ø¢Ù†Ù„Ø§ÛŒÙ†</span>
    </div>
</header>

<!-- Top Stats -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
    <div class="glass-card p-4 flex flex-col items-center justify-center text-center border-t-4 border-green-500">
        <span class="text-3xl font-bold text-green-400">{{ stats.done_today }}</span>
        <span class="text-xs text-slate-400 mt-1 flex items-center gap-1"><i data-lucide="check-square" size="12"></i> Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø§Ù…Ø±ÙˆØ²</span>
    </div>
    <div class="glass-card p-4 flex flex-col items-center justify-center text-center border-t-4 border-yellow-500">
        <span class="text-3xl font-bold text-yellow-400">{{ stats.pending }}</span>
        <span class="text-xs text-slate-400 mt-1 flex items-center gap-1"><i data-lucide="hourglass" size="12"></i> Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</span>
    </div>
    <div class="glass-card p-4 flex flex-col items-center justify-center text-center border-t-4 border-red-500">
        <span class="text-3xl font-bold text-red-400">{{ stats.urgent }}</span>
        <span class="text-xs text-slate-400 mt-1 flex items-center gap-1"><i data-lucide="siren" size="12"></i> ÙÙˆØ±ÛŒ</span>
    </div>
    <div class="glass-card p-4 flex flex-col items-center justify-center text-center border-t-4 border-purple-500">
        <span class="text-3xl font-bold text-purple-400">{{ stats.streak }}</span>
        <span class="text-xs text-slate-400 mt-1 flex items-center gap-1"><i data-lucide="flame" size="12"></i> Ø¨Ù‡ØªØ±ÛŒÙ† Streak</span>
    </div>
</div>

<!-- Middle Section: Status & Reminders -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <!-- Status -->
    <div class="glass-card p-6 relative overflow-hidden">
        <div class="flex justify-between items-start">
            <div>
                <h3 class="font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="smile" class="text-yellow-400"></i> ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…
                </h3>
                <div class="space-y-2 text-sm text-slate-300">
                    <div class="flex items-center gap-2">
                        <i data-lucide="{{ 'check' if service_status.notion else 'x' }}" class="{{ 'text-green-500' if service_status.notion else 'text-red-500' }}"></i>
                        Notion API Ù…ØªØµÙ„ Ø§Ø³Øª
                    </div>
                    <div class="flex items-center gap-2">
                        <i data-lucide="{{ 'check' if service_status.sheets else 'x' }}" class="{{ 'text-green-500' if service_status.sheets else 'text-red-500' }}"></i>
                        Google Sheets {{ 'ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡' if service_status.sheets else 'ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡' }}
                    </div>
                    <a href="/settings" class="text-blue-400 text-xs hover:underline mt-2 block">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Urgent Reminder -->
    <div class="glass-card p-6 flex flex-col items-center justify-center text-center">
        <div class="absolute top-4 right-4 text-yellow-500"><i data-lucide="bell"></i></div>
        <div class="text-4xl mb-2">ğŸ‰</div>
        <p class="text-slate-300 font-medium">Ú©Ø§Ø± ÙÙˆØ±ÛŒ Ù†Ø¯Ø§Ø±ÛŒ!</p>
        <p class="text-xs text-slate-500 mt-1">ÛŒÚ© Ù†ÙØ³ Ø¹Ù…ÛŒÙ‚ Ø¨Ú©Ø´.</p>
    </div>
</div>

<!-- Eisenhower Matrix -->
<div class="mb-8">
    <h3 class="flex items-center gap-2 text-white font-bold mb-4">
        <i data-lucide="flame" class="text-orange-500"></i> Ù…Ø§ØªØ±ÛŒØ³ Ø¢ÛŒØ²Ù†Ù‡Ø§ÙˆØ±
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Q1: Urgent & Important -->
        <div class="glass-card p-4 quadrant border border-red-500/20">
            <div class="flex justify-between mb-3">
                <span class="text-red-400 font-bold flex items-center gap-2">1ï¸âƒ£ Ø¨Ø­Ø±Ø§Ù†â€ŒÙ‡Ø§</span>
                <span class="text-xs text-slate-500">Ù…Ù‡Ù… + ÙÙˆØ±ÛŒ â† Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡!</span>
            </div>
            <div class="space-y-2">
                {% for task in matrix[1][:3] %}
                <div class="bg-red-500/10 p-2 rounded text-sm text-slate-200 border-r-2 border-red-500 flex justify-between">
                    <span>{{ task.title }}</span>
                </div>
                {% else %}
                <div class="text-center text-slate-600 mt-8 flex flex-col items-center">
                    <i data-lucide="target" class="mb-2"></i> Ø®Ø§Ù„ÛŒ
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Q2: Not Urgent & Important -->
        <div class="glass-card p-4 quadrant border border-green-500/20">
            <div class="flex justify-between mb-3">
                <span class="text-green-400 font-bold flex items-center gap-2">2ï¸âƒ£ Ø§Ù‡Ø¯Ø§Ù Ùˆ Ø±Ø´Ø¯</span>
                <span class="text-xs text-slate-500">Ù…Ù‡Ù… + ØºÛŒØ±ÙÙˆØ±ÛŒ â† Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†</span>
            </div>
             <div class="space-y-2">
                {% for task in matrix[2][:3] %}
                <div class="bg-green-500/10 p-2 rounded text-sm text-slate-200 border-r-2 border-green-500 flex justify-between">
                    <span>{{ task.title }}</span>
                </div>
                {% else %}
                <div class="text-center text-slate-600 mt-8 flex flex-col items-center">
                    <i data-lucide="sprout" class="mb-2"></i> Ø®Ø§Ù„ÛŒ
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Q3: Urgent & Not Important -->
        <div class="glass-card p-4 quadrant border border-yellow-500/20">
            <div class="flex justify-between mb-3">
                <span class="text-yellow-400 font-bold flex items-center gap-2">3ï¸âƒ£ Ù…Ø²Ø§Ø­Ù…Øªâ€ŒÙ‡Ø§</span>
                <span class="text-xs text-slate-500">ØºÛŒØ±Ù…Ù‡Ù… + ÙÙˆØ±ÛŒ â† Ù…Ø­ÙˆÙ„ Ú©Ù†</span>
            </div>
             <div class="space-y-2">
                {% for task in matrix[3][:3] %}
                <div class="bg-yellow-500/10 p-2 rounded text-sm text-slate-200 border-r-2 border-yellow-500 flex justify-between">
                    <span>{{ task.title }}</span>
                </div>
                {% else %}
                <div class="text-center text-slate-600 mt-8 flex flex-col items-center">
                    <i data-lucide="thumbs-up" class="mb-2"></i> Ø®Ø§Ù„ÛŒ
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Q4: Not Urgent & Not Important -->
        <div class="glass-card p-4 quadrant border border-slate-500/20">
            <div class="flex justify-between mb-3">
                <span class="text-slate-400 font-bold flex items-center gap-2">4ï¸âƒ£ Ø­ÙˆØ§Ø³â€ŒÙ¾Ø±ØªÛŒâ€ŒÙ‡Ø§</span>
                <span class="text-xs text-slate-500">ØºÛŒØ±Ù…Ù‡Ù… + ØºÛŒØ±ÙÙˆØ±ÛŒ â† Ø­Ø°Ù Ú©Ù†</span>
            </div>
             <div class="space-y-2">
                {% for task in matrix[4][:3] %}
                <div class="bg-slate-700/30 p-2 rounded text-sm text-slate-300 border-r-2 border-slate-500 flex justify-between">
                    <span>{{ task.title }}</span>
                </div>
                {% else %}
                <div class="text-center text-slate-600 mt-8 flex flex-col items-center">
                    <i data-lucide="sparkles" class="mb-2"></i> Ø®Ø§Ù„ÛŒ
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Bottom Lists -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="glass-card p-4">
        <h4 class="text-sm font-bold text-orange-400 mb-3 flex items-center gap-2"><i data-lucide="flame" size="14"></i> Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ…Ø±Ú©Ø² Ø¨Ø§Ù„Ø§</h4>
        <div class="space-y-2">
            {% for t in high_focus %}
            <div class="text-sm text-slate-300 border-b border-white/5 pb-1">{{ t.title }}</div>
            {% else %}
            <div class="text-center text-slate-600 text-xs py-4">Ú©Ø§Ø±ÛŒ Ù†ÛŒØ³Øª</div>
            {% endfor %}
        </div>
    </div>

    <div class="glass-card p-4">
        <h4 class="text-sm font-bold text-yellow-400 mb-3 flex items-center gap-2"><i data-lucide="zap" size="14"></i> Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø³Ø±ÛŒØ¹</h4>
        <div class="space-y-2">
             {% for t in quick_wins %}
            <div class="text-sm text-slate-300 border-b border-white/5 pb-1">{{ t.title }}</div>
            {% else %}
            <div class="text-center text-slate-600 text-xs py-4">Ú©Ø§Ø±ÛŒ Ù†ÛŒØ³Øª</div>
            {% endfor %}
        </div>
    </div>

    <div class="glass-card p-4">
        <h4 class="text-sm font-bold text-slate-400 mb-3 flex items-center gap-2"><i data-lucide="feather" size="14"></i> ÙˆÙ‚ØªÛŒ Ø®Ø³ØªÙ‡â€ŒØ§ÛŒ</h4>
        <div class="space-y-2">
             {% for t in low_energy %}
            <div class="text-sm text-slate-300 border-b border-white/5 pb-1">{{ t.title }}</div>
            {% else %}
            <div class="text-center text-slate-600 text-xs py-4">Ú©Ø§Ø±ÛŒ Ù†ÛŒØ³Øª</div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
